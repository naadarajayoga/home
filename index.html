<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Naada Raja Yoga</title>

  <!--------- 
  Basic SEO
  ---------->
  <meta name="description" content="Explore our journey with glimpses on YouTube and Instagram, and enjoy personalized daily progress with our online classes">

  <!-------------------------------
  Open Graph / WhatsApp / Facebook 
  ------------------------------->
  <meta property="og:title" content="Naada Raja Yoga" />
  <meta property="og:description" content="Explore our journey with glimpses on YouTube and Instagram, and enjoy personalized daily progress with our online classes" />
  <meta property="og:image" content="https://naadaraja.com/images/og-image.jpg" />
  <meta property="og:url" content="https://naadaraja.com" />
  <meta property="og:type" content="website" />
  <meta property="og:logo" content="/favicon.ico/512.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />

  <!----------------------------------------- 
  Twitter Card (for Twitter & some messengers) 
  ------------------------------------------->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Naada Raja Yoga" />
  <meta name="twitter:description" content="Explore our journey with glimpses on YouTube and Instagram, and enjoy personalized daily progress with our online classes" />
  <meta name="twitter:image" content="https://naadaraja.com/images/og-image.jpg" />

  <!------------------- 
  Google Search Console 
  ------------------>
  <meta name="google-site-verification" content="W0zqaLuExgFbg_t58wQ8JXb9fGRj9A6i-bqKTtTx2_A" />
  <meta name="google-site-verification" content="S88cprs1l7mpUIybcZRL_3RjfPz3cZdoxuslnUlnRMI" />

  <!-------
  Manifest 
  --------->
  <link rel="manifest" href="/manifest.json">

  <!------------ 
  Favicon Basics 
  -------------->
  <link rel="icon" type="image/x-icon" href="/favicon.ico/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico/16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico/32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="/favicon.ico/48.png">

  <!-- Apple Touch Icon (for iOS Home Screen) -->
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico/180.png">

  <!-- Android / PWA -->
  <link rel="icon" type="image/png" sizes="192x192" href="/favicon.ico/192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/favicon.ico/512.png">

  <!-- Theme colors -->
  <meta name="theme-color" content="#000000"> <!-- matches manifest.json -->
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <!-- Windows Tile -->
  <meta name="msapplication-TileImage" content="/favicon.ico/144.png">
  <meta name="msapplication-TileColor" content="#ffffff">

  <!-- Keep global CSS to an absolute minimum so we don't affect your containers -->
  <style>
    /* Only the absolute minimum baseline so injected containers behave predictably.
       Do NOT add padding/margins/fonts here — containers provide their own CSS. */
    html,body { height:100%; margin:0; }
    img { max-width:100%; display:block; }
    main#app { min-height:100vh; box-sizing:border-box; }
    /* small util loader */
    .naada-loader { padding:0px; text-align:center; color:#666; }
  </style>
</head>
<body>

  <!-- HEADER (static chrome) -->
  <div id="header-slot"></div>

  <!-- Main application area:
       dynamic-wrapper only provides bottom room for the peek-footer so footer is visible above the fixed navbar.
       This wrapper DOES NOT alter child styles (containers keep full control).
  -->
  <main id="app">
    <div id="dynamic-wrapper" style="padding-bottom:100px;">
      <!-- fetched container element will be injected here -->
      <div id="container" aria-live="polite"></div>
    </div>
  </main>

  <!-- FOOTER and NAVBAR slots (injected from templates below) -->
  <div id="footer-slot"></div>
  <div id="navbar-slot"></div>

  <!-- ===========================
       Templates for Header / Footer / Navbar (each with their own CSS)
       Feel free to replace these blocks with your exact header/footer/navbar markup.
       =========================== -->

  <!-- Header template -->
  <template id="tmpl-header">
    <style>
      header { background:#ffffff; padding:20px 20px 35px; border-bottom:1px solid #eee; display:flex; justify-content:center; box-sizing:border-box; position:relative; }
      .branding { display:flex; align-items:center; justify-content:center; gap:12px; max-width:1000px; width:100%; }
      .branding img { width:80px; height:auto; flex-shrink:0; }
      .branding-text { display:flex; flex-direction:column; justify-content:center; text-align:center; }
      .branding h1 { margin:0; font-family: "Marcellus", serif; font-size:2.2rem; color:#111; }
      .branding p { margin:0; font-family: "Playfair Display", serif; font-style:italic; color:#555; }
      .social-icons { position:absolute; right:20px; bottom:8px; display:flex; gap:10px; }
      .social-icons a { color:#666; transition:color 0.3s; }
      .social-icons a:hover { color:#000; }
      .social-icons svg { width:20px; height:20px; }
      .social-icons a[href*="instagram"]:hover { color:#E4405F; }
      .social-icons a[href*="whatsapp"]:hover { color:#25D366; }
      .social-icons a[href*="mailto"]:hover { color:#EA4335; }
      .social-icons a[href*="youtube"]:hover { color:#FF0000; }
      @media (max-width:700px) { 
        .branding img { width:65px; } 
        .branding h1 { font-size:1.7rem; } 
        .social-icons { right:10px; bottom:6px; }
        .social-icons svg { width:18px; height:18px; }
      }
    </style>

    <header role="banner" aria-label="Site header">
      <div class="branding">
        <img src="/images/Naada Raja Yoga Logo.png" alt="Naada Raja Yoga Logo">
        <div class="branding-text">
          <h1>Naada Raja Yoga</h1>
          <p>Personalized Yoga Journey</p>
        </div>
      </div>
      <div class="social-icons">
        <a href="https://www.instagram.com/naada.raja.yoga/" target="_blank" aria-label="Follow us on Instagram">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 2c2.717 0 3.056.01 4.122.06 1.065.05 1.79.217 2.428.465.66.254 1.216.598 1.772 1.153.509.5.902 1.105 1.153 1.772.247.637.415 1.363.465 2.428.047 1.066.06 1.405.06 4.122 0 2.717-.01 3.056-.06 4.122-.05 1.065-.218 1.79-.465 2.428a4.883 4.883 0 0 1-1.153 1.772c-.5.509-1.105.902-1.772 1.153-.637.247-1.363.415-2.428.465-1.066.047-1.405.06-4.122.06-2.717 0-3.056-.01-4.122-.06-1.065-.05-1.79-.218-2.428-.465a4.89 4.89 0 0 1-1.772-1.153 4.904 4.904 0 0 1-1.153-1.772c-.247-.637-.415-1.363-.465-2.428C2.013 15.056 2 14.717 2 12c0-2.717.01-3.056.06-4.122.05-1.066.217-1.79.465-2.428a4.88 4.88 0 0 1 1.153-1.772A4.897 4.897 0 0 1 5.45 2.525c.638-.248 1.362-.415 2.428-.465C8.944 2.013 9.283 2 12 2z"/></svg>
        </a>
        <a href="https://wa.me/9539342026" target="_blank" aria-label="Contact us on WhatsApp">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.287l-.582 2.128 2.182-.573c.978.58 1.911.928 3.145.929 3.178 0 5.767-2.587 5.768-5.766.001-3.187-2.575-5.77-5.764-5.771zm3.392 8.244c-.144.405-.837.774-1.17.824-.299.045-.677.063-1.092-.069-.252-.08-.575-.187-.988-.365-1.739-.751-2.874-2.502-2.961-2.617-.087-.116-.708-.94-.708-1.793s.448-1.273.607-1.446c.159-.173.346-.217.462-.217l.332.006c.106.005.249-.04.39.298.144.347.491 1.2.534 1.287.043.087.072.188.014.304-.058.116-.087.188-.173.289l-.26.304c-.087.086-.177.18-.076.354.101.174.449.741.964 1.201.662.591 1.221.774 1.394.86s.274.072.376-.043c.101-.116.433-.506.549-.68.116-.173.231-.145.39-.087s1.011.477 1.184.564.289.13.332.202c.045.072.045.419-.1.824z"/></svg>
        </a>
        <a href="mailto:yoga@naadaraja.com" aria-label="Email us">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
        </a>
        <a href="https://www.youtube.com/@NaadaRajaYoga" target="_blank" aria-label="Watch us on YouTube">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M21.582 7.15c-.239-2.012-.978-3.008-2.842-3.14-2.465-.176-7.74-.176-7.74-.176s-5.275 0-7.74.176c-1.864.132-2.603 1.128-2.842 3.14-.176 1.863-.176 5.75-.176 5.75s0 3.887.176 5.75c.239 2.012.978 3.008 2.842 3.14 2.465.176 7.74.176 7.74.176s5.275 0 7.74-.176c1.864-.132 2.603-1.128 2.842-3.14.176-1.863.176-5.75.176-5.75s0-3.887-.176-5.75z"/><path fill="currentColor" d="M10 14.85v-7l6 3.5-6 3.5z" style="fill:#fff"/></svg>
        </a>
      </div>
    </header>
  </template>

  <!-- Footer template -->
  <template id="tmpl-footer">
    <style>
      .peek-footer{ --bar-h:64px; --bg:#fff; --text:#000; --muted:#bdbdbd; --max-w:1100px; display:block; width:100%; background:var(--bg); color:var(--text); font-family:system-ui; line-height:1.2; box-sizing:border-box; }
      .peek-footer__spacer{ height:4px; width:100%; }
      .peek-footer__hidden{ max-width:var(--max-w); margin:0 auto; padding:10px 18px; padding-bottom:calc(var(--bar-h) + 2px); text-align:center; box-sizing:border-box; }
      .footer-links{ display:flex; gap:16px; justify-content:center; align-items:center; flex-wrap:wrap; }
      .footer-links a{ color:var(--muted); text-decoration:none; font-size:14px; padding:4px 6px; border-radius:6px; }
      .footer-links a:hover{ color:var(--text); text-decoration:underline; }
      @media (max-width:520px) { .footer-links { gap:10px; } }
    </style>

    <footer class="peek-footer" id="site-footer" aria-label="Site footer">
      <div class="peek-footer__spacer" aria-hidden="true"></div>
      <div class="peek-footer__hidden" role="region" aria-label="Footer expanded links">
        <nav class="footer-links" aria-label="Footer links">
          <a href="#/privacy" data-container="privacy">Privacy Policy</a>
          <a href="#/terms" data-container="terms">Terms &amp; Conditions</a>
          <a href="#/refund" data-container="refund">Refund Policy</a>
        </nav>
      </div>
    </footer>
  </template>

  <!-- Navbar template (IMPORTANT: keep button order Contact → Home → Courses) -->
  <template id="tmpl-navbar">
    <style>
      .bottom-navbar {
        --bar-h: 65px;
        position: fixed;
        left: 0;
        right: 0;
        bottom: 0;
        height: var(--bar-h);
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 40px;
        background: linear-gradient(135deg,#2c3e50 0%,#34495e 100%);
        color: #ecf0f1;
        z-index: 9999;
        backdrop-filter: blur(10px);
        border-top: 1px solid rgba(255,255,255,0.08);
        box-sizing: border-box;
      }
      .bottom-navbar .nav-item { display:inline-flex; flex-direction:column; align-items:center; gap:4px; padding:8px 12px; border-radius:12px; color:inherit; text-decoration:none; cursor:pointer; font-weight:600; }
      .bottom-navbar .nav-item.active { color: #f39c12; }
      .bottom-navbar svg { width:24px; height:24px; fill: currentColor; }
      @media (max-width:520px) { .bottom-navbar { gap:10px; justify-content:space-around; } .bottom-navbar svg { width:22px; height:22px; } }
    </style>

    <nav class="bottom-navbar" id="site-navbar" role="navigation" aria-label="Main navigation">
      <!-- KEEP ORDER: Contact → Home → Courses -->
      <a class="nav-item" href="#/contact" data-container="contact" aria-label="Contact">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6.6 10.2a15.05 15.05 0 006.2 6.2l1.8-1.8a1 1 0 01.9-.24c1 .25 2 .38 3 .38a1 1 0 011 1v3a1 1 0 01-1 1C9.2 23 1 14.8 1 3a1 1 0 011-1h3a1 1 0 011 1c0 1.1.13 2.1.38 3a1 1 0 01-.24.9L6.6 10.2z"/></svg>
        <span>Contact</span>
      </a>

      <a class="nav-item" href="#/home" data-container="home" aria-label="Home">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" aria-hidden="true"><path d="M541 229.16l-61-52.06V56c0-13.25-10.75-24-24-24h-72c-13.25 0-24 10.75-24 24v24L314.4 43c-15.9-13.6-39.3-13.6-55.2 0L35 229.2c-9.9 8.4-11.1 23.3-2.7 33.2s23.3 11.1 33.2 2.7L96 232.1V456c0 30.9 25.1 56 56 56h96V360h80v152h96c30.9 0 56-25.1 56-56V232l30.6 26c9.9 8.4 24.8 7.1 33.2-2.7 8.4-9.9 7.1-24.8-2.7-33.2z"/></svg>
        <span>Home</span>
      </a>

      <a class="nav-item" href="#/courses" data-container="courses" aria-label="Courses">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" aria-hidden="true"><path d="M320 96a64 64 0 1 0 0-128 64 64 0 1 0 0 128zM528 352h-56l-41-82c-6-12-19-18-32-14s-21 16-19 29l20 99H240l20-99c2-13-5-25-19-29s-26 2-32 14l-41 82H112c-27 0-48 21-48 48s21 48 48 48h416c27 0 48-21 48-48s-21-48-48-48z"/></svg>
        <span>Courses</span>
      </a>
    </nav>
  </template>

  <!-- ===========================
       Loader / Router / Fetch + Prefetch
       - loads external container files that include their own CSS & JS
       - extracts a single element whose id ends with "-container" and injects it
       - executes inline scripts and loads external scripts
       - prefetches other containers in background after first load
       - hash routing keeps chrome visible on reload
       =========================== -->
  <script>
  (function () {
    // Map route keys to external files (adjust paths if your files are at different locations)
    const containers = {
      home:    '/home.html',
      contact: '/contact.html',
      courses: '/courses.html',
      privacy: '/privacy.html',
      terms:   '/terms.html',
      refund:  '/refund.html'
    };

    const headerSlot = document.getElementById('header-slot');
    const footerSlot = document.getElementById('footer-slot');
    const navbarSlot = document.getElementById('navbar-slot');
    const containerMount = document.getElementById('container');
    const dynamicWrapper = document.getElementById('dynamic-wrapper');

    // In-memory cache for fetched HTML
    const cache = {};

    // Inject the header/footer/navbar templates (they contain their own CSS)
    function injectStatic(templateId, slot) {
      const tpl = document.getElementById(templateId);
      if (!tpl) return;
      const clone = tpl.content.cloneNode(true);
      slot.appendChild(clone);

      // No need to execute scripts in header/footer/navbar templates here (they are CSS only in this example).
      // If you add <script> inside templates, and want them executed, handle similar to container scripts.
    }

    // Minimal loader UI
    function showLoader() {
      containerMount.innerHTML = '<div class="naada-loader">Loading…</div>';
    }

    // Fetch container HTML (with caching)
    async function fetchContainer(key) {
      if (!containers[key]) throw new Error('Unknown container: ' + key);
      if (cache[key]) return cache[key];
      const res = await fetch(containers[key], { cache: 'no-store' });
      if (!res.ok) throw new Error('Failed to fetch ' + containers[key] + ' (' + res.status + ')');
      const text = await res.text();
      cache[key] = text;
      return text;
    }

    // Parse HTML and extract the root element whose id ends with "-container"
    function extractContainerElement(html) {
      const tmp = document.createElement('template');
      tmp.innerHTML = html;
      // prefer first element with id ending '-container'
      const root = Array.from(tmp.content.children).find(el => el.id && el.id.endsWith('-container'));
      if (root) return root;
      // fallback: return entire content fragment
      return tmp.content;
    }

    // Execute scripts found inside a node (inline and external), in order
    function runScriptsSequential(parentNode) {
      const scripts = Array.from(parentNode.querySelectorAll('script'));
      // Remove scripts from DOM here to avoid duplication when executing
      scripts.forEach(s => s.parentNode && s.parentNode.removeChild(s));

      // Run them sequentially
      return scripts.reduce((p, script) => {
        return p.then(() => new Promise(resolve => {
          const ns = document.createElement('script');
          // copy attributes
          for (let i = 0; i < script.attributes.length; i++) {
            const a = script.attributes[i];
            ns.setAttribute(a.name, a.value);
          }
          if (script.src) {
            ns.src = script.src;
            ns.onload = resolve;
            ns.onerror = () => { console.error('Script load failed:', script.src); resolve(); };
            document.head.appendChild(ns);
          } else {
            ns.text = script.textContent;
            document.head.appendChild(ns);
            // inline executed immediately
            document.head.removeChild(ns);
            resolve();
          }
        }));
      }, Promise.resolve());
    }

    // Inject the container node into the page and run its scripts
    async function mountContainerNode(node) {
      // Clear existing
      while (containerMount.firstChild) containerMount.removeChild(containerMount.firstChild);

      // If node is a DocumentFragment return it directly; if Element, append it.
      if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
        containerMount.appendChild(node);
      } else {
        containerMount.appendChild(node.cloneNode(true));
      }

      // After content appended, find and run any scripts inside the mounted subtree
      await runScriptsSequential(containerMount);

      // scroll to top of dynamic wrapper
      dynamicWrapper.scrollIntoView({ behavior: 'auto' });
    }

    // Load route (key) into page
    async function loadRoute(key, pushHash = true) {
      if (!containers[key]) key = 'home';
      // highlight nav
      updateActiveNav(key);
      showLoader();
      try {
        const html = await fetchContainer(key);
        const node = extractContainerElement(html);
        await mountContainerNode(node);
        if (pushHash) {
          const newHash = '#/' + key;
          if (location.hash !== newHash) location.hash = newHash;
        }
      } catch (err) {
        console.error(err);
        containerMount.innerHTML = '<div class="naada-loader">Could not load content — please try again later.</div>';
      }
    }

    // Prefetch list of keys (non-blocking)
    function prefetch(list) {
      list.forEach(k => {
        if (!cache[k] && containers[k]) {
          fetch(containers[k], { cache: 'no-store' })
            .then(res => { if (res.ok) return res.text(); throw new Error('prefetch failed ' + k); })
            .then(txt => cache[k] = txt)
            .catch(() => { /* ignore prefetch errors */ });
        }
      });
    }

    // Update active nav item visuals
    function updateActiveNav(activeKey) {
      const nav = document.getElementById('site-navbar');
      if (!nav) return;
      nav.querySelectorAll('.nav-item').forEach(a => {
        const key = a.dataset && a.dataset.container;
        if (key === activeKey) a.classList.add('active'); else a.classList.remove('active');
      });
    }

    // Map hash (#/home etc.) to route key
    function routeFromHash(hash) {
      const key = (hash || location.hash || '#/home').replace(/^#\/?/, '');
      return containers[key] ? key : 'home';
    }

    // Initialize chrome & handlers
    function init() {
      // inject header/footer/navbar from templates
      injectStatic('tmpl-header', headerSlot);
      injectStatic('tmpl-footer', footerSlot);
      injectStatic('tmpl-navbar', navbarSlot);

      // intercept clicks on navbar and footer
      const navbar = document.getElementById('site-navbar');
      if (navbar) {
        navbar.addEventListener('click', (ev) => {
          const a = ev.target.closest('.nav-item');
          if (!a) return;
          ev.preventDefault();
          const key = a.dataset && a.dataset.container;
          if (key) {
            loadRoute(key, true);
            // prefetch others
            prefetch(Object.keys(containers).filter(k => k !== key));
          }
        });
      }

      const footer = document.getElementById('site-footer');
      if (footer) {
        footer.addEventListener('click', (ev) => {
          const a = ev.target.closest('[data-container]');
          if (!a) return;
          ev.preventDefault();
          const key = a.dataset && a.dataset.container;
          if (key) {
            loadRoute(key, true);
            prefetch(Object.keys(containers).filter(k => k !== key));
          }
        });
      }

      // handle initial route from hash
      const initial = routeFromHash(location.hash);
      loadRoute(initial, false).then(() => {
        // after first load, prefetch all other containers
        prefetch(Object.keys(containers).filter(k => k !== initial));
      });

      // respond to manual hash changes/back-forward
      window.addEventListener('hashchange', () => {
        const key = routeFromHash(location.hash);
        loadRoute(key, false);
      });

      // delegate links inside container: if an <a href="/privacy"> or href="#/privacy" is clicked, intercept and load
      document.addEventListener('click', (ev) => {
        const a = ev.target.closest('a');
        if (!a) return;
        // preserve external links or special targets
        if (a.target === '_blank' || a.hasAttribute('download')) return;
        const href = a.getAttribute('href');
        if (!href) return;
        // if hash route
        if (href.startsWith('#/')) {
          const key = href.replace(/^#\/?/, '');
          if (containers[key]) {
            ev.preventDefault();
            loadRoute(key, true);
            prefetch(Object.keys(containers).filter(k => k !== key));
          }
          return;
        }
        // if same-origin path like "/privacy" -> route key "privacy"
        try {
          const url = new URL(href, location.href);
          if (url.origin === location.origin) {
            const pathKey = url.pathname.replace(/^\/+|\/+$/g, '') || 'home';
            if (containers[pathKey]) {
              ev.preventDefault();
              loadRoute(pathKey, true);
              prefetch(Object.keys(containers).filter(k => k !== pathKey));
            }
          }
        } catch (e) {
          // ignore
        }
      });
    }

    // expose for debugging
    window.__naada = { loadRoute, fetchContainer, cache };

    // start
    document.addEventListener('DOMContentLoaded', init);
  })();
  </script>
</body>
</html>
